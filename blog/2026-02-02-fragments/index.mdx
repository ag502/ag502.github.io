---
slug: fragments
title: Fragments
tags: [secret-react, learning-react]
unlisted: true
---

이 문서는 색인되지 않습니다.

{/* truncate */}

아래의 HTML을 렌더링하고 싶다고 가정해보겠습니다.

```html
<h1>Welcome to my homepage!</h1>
<p>Don't forget to sign the guestbook!</p>
```

위 HTML을 JSX로 변환하기 위해 리액트 애플리케이션에 복사/붙여넣기를 하면 에러가 발생합니다.

:::warning
Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <></>?
:::

이 오류는 "JSX fragment"를 사용하라는 오류이며, 이 글에서 이에대해 살펴보겠습니다. 하지만 그전에 왜 이 오류가 발생하는지 먼저 살펴보겠습니다.

이 문제는 JSX를 사용하기 때문에 원인을 찾기 어려운 문제중에 하나입니다. 만약 순수 자바스크립트로 바꾼다면 문제의 원인을 명확하게 알 수 있습니다.

```
function App() {
    return (
        React.createElement("h1", {}, "Welcome to my homepage!")
        React.createElement("p", {}, "Don't forget to sign the guestbook!")
    )
}
```

두개의 `React.createElement` 함수 호출이 있고, 두개 모두 반환하려고 합니다. 이는 자바스크립트에서 허용되지 않는 문법입니다.

React 관련 코드가 아닌 동일한 상황을 자바스크립트로 재현해보면 다음과 같습니다.

```
function something() {
    let arr = [1, 2, 3];

    return (
        arr.push(4)
        arr.push(5)
    )
}
```

리턴문에는 하나의 표현식만 반환 가능한데, 두개의 표현식을 반환했습니다!

이제 왜 위의 예시가 올바르지 않는지를 알았습니다. 그렇다면 어떻게 고치면 될까요?

첫번째 방법은 두개의 React 요소를 `div`로 감싸는 것입니다.

```
return (
    <div>
        <h1>Welcome to my homepage!</h1>
        <p>Don't forget to sign the guestbook!</p>
    </div>
)
```

위 코드가 순수한 자바스크립트 함수로 전환된다면, 더이상 복수의 표현식을 반환하지 않게됩니다.

```
return (
    React.createElement(
        "div",
        {},
        React.createElement("h1", {}, "Welcome to my homepage!"),
        React.createElement("p", {}, "Don't forget to sign the guestbook!"),
    ),
)
```

오류는 발생하지 않지만, 이상적인 방법은 아닙니다. 불필요한 요소로 DOM을 오염시키기 때문입니다.
또한 아래와 같이 접근성과 레이아웃에 문제가 발생할 수 있습니다.

```jsx
import React from 'react';

function App() {
  return (
    <ul>
      <ListItems />
      <li>Item 3</li>
      <li>Item 4</li>
    </ul>
  );
}

function ListItems() {
  return (
    <div>
      <li>Item 1</li>
      <li>Item 2</li>
    </div>
  );
}
```

위 예시에서 리스트 요소들은 단일 행을 차지하게끔 렌더링 되어야 합니다만, `<div>` 요소가 flexbox 알고리즘을 파괴합니다.
또한 유효하지 않은 마크업 구조를 야기해 스크린 리더와 같은 접근성 도구를 사용하는 사람들에게 불편함을 줄 수 있습니다.

다행이도, 더 좋은 방법이 있습니다. *Fragments*를 사용하면 됩니다.

Fragment는 DOM 노드를 만들지 않는 특별한 리액트 컴포넌트입니다.

```jsx
import React from 'react';

function App() {
  return (
    <React.Fragment>
      <h1>Welcome to my homepage!</h1>
      <p>Do not forget to sign the guestbook!</p>
    </React.Fragment>
  );
}
```

개발자 도구로 결과를 확인해보면 두개의 요소가 컨테이너 요소(`<div id="root">`) 바로 안에 존재하는것을 확인할 수 있습니다.
Fragment는 HTML 구조를 오염시키지 않고 자바스크립트의 규칙을 지킬 수 있게 해줍니다.

## 🌃 축약 문법

React fragment는 아래처럼 생성할 수도 있습니다.

```
return (
    <>
        <h1>Welcome to my homepage!</h1>
        <p>Do not forget to sign the guestbook!</p>
    </>
)
```

어떤 방식을 사용하든 JSX는 동일한 자바스크립트로 컴파일됩니다.
