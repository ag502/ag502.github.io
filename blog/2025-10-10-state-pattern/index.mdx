---
slug: state-pattern
title: ìƒíƒœ íŒ¨í„´ ì‚´í´ë³´ê¸°
tags: [JavaScript, Design Pattern, Behavioral Pattern]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

ì´ ê¸€ì—ì„œëŠ” í–‰ë™ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì¸ ìƒíƒœ íŒ¨í„´(State Pattern)ì˜ ì •ì˜ì™€ êµ¬í˜„ ë°©ë²• ë° ì‚¬ìš©ì˜ˆì‹œì— ëŒ€í•´ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

{/* truncate */}

## ğŸŒƒ ì •ì˜

ìƒíƒœ íŒ¨í„´ì€ ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœê°€ ë³€ê²½ë  ë•Œ í•´ë‹¹ ê°ì²´ê°€ í–‰ë™ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í–‰ë™ ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤.
ê°ì²´ê°€ í–‰ë™ì„ ë°”ë€Œë©´ í•´ë‹¹ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì—ì„œëŠ” ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ë³€ê²½ëœ ê²ƒì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤

## ğŸŒƒ ì¶œíŒ ìƒíƒœ ì œì–´í•˜ê¸°

ì•„ë˜ì™€ ê°™ì€ íë¦„ì„ ê°–ëŠ” ë¡œì§ì„ ì‘ì„±í•´ì•¼í•œë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.

```mermaid
stateDiagram-v2
    [*] --> Draft
    state "ì´ˆì•ˆ" as Draft
    state "ê²€í† " as Moderation
    state "ì¶œíŒ" as Published

    Draft --> Moderation: "ì‚¬ìš©ìê°€ ì¶œíŒ"
    Moderation --> Draft: "ì‹¬ì‚¬ë¥¼ í†µê³¼í•˜ì§€ ëª»í•¨"
    Moderation --> Published: "ê´€ë¦¬ìê°€ ìŠ¹ì¸í•¨"

    Draft --> Published: "ê´€ë¦¬ìê°€ ì¶œíŒ"
    Published --> Draft: "ì¶œíŒ ë§Œë£Œ"
```

## ğŸŒƒ ìœ í•œ ìƒíƒœ ê¸°ê³„(Finite State Machine)

ìœ„ì—ì„œ ì¶œíŒ ìƒíƒœì˜ íë¦„ì„ ì‹œê°í™”í•œ ë‹¤ì´ì–´ê·¸ë¨ì„ ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì´ë¼ í•˜ë©°,
ì´ ë‹¤ì´ì–´ê·¸ë¨ì— ì •ì˜ëœ ê·œì¹™ì— ë”°ë¼ ë™ì‘í•˜ëŠ” ê¸°ê³„ë¥¼ ìœ í•œ ìƒíƒœ ê¸°ê³„(Finite State Machine)ë¼ê³  í•©ë‹ˆë‹¤.

ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ê° ë…¸ë“œ(ì´ ê²½ìš° ì‚¬ê°í˜•)ëŠ” í•˜ë‚˜ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ë©°, ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì˜ ì‹œì‘ ìƒíƒœëŠ” â€˜ì´ˆì•ˆâ€™ì…ë‹ˆë‹¤.
ê° ìƒíƒœëŠ” ìœ í•œ ìƒíƒœ ê¸°ê³„ê°€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ë¥¼ í‘œí˜„í•˜ë©°,
ì´ ì„¤ì •ì— ë”°ë¼ íŠ¹ì •í•œ ë™ì‘ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

í•œ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ìƒíƒœë¡œ ì „í™˜ë˜ê¸° ìœ„í•´ì„œëŠ” íŠ¹ì •í•œ í–‰ë™(ì´ë²¤íŠ¸)ì´ í•„ìš”í•˜ë©°,
ì´ëŠ” í™”ì‚´í‘œ(ì „ì´)ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, â€˜ì´ˆì•ˆâ€™ ìƒíƒœì—ì„œ â€˜ê²€í† â€™ ìƒíƒœë¡œ ì „í™˜ë˜ë ¤ë©´ â€˜ì‚¬ìš©ìê°€ ì¶œíŒâ€™ì´ë¼ëŠ” ì´ë²¤íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.

## ğŸŒƒ ìœ í•œ ìƒíƒœ ê¸°ê³„ êµ¬í˜„ ë°©ë²• ì‚´í´ë³´ê¸°

ìœ í•œ ìƒíƒœ ê¸°ê³„ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

1. ìƒíƒœë“¤ì„ ëª¨ì•„ë´…ë‹ˆë‹¤. ìœ„ì˜ ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì—ëŠ” 'ì¶œíŒ', 'ê²€í† ', 'ì´ˆì•ˆ' 3ê°€ì§€ ìƒíƒœê°€ ì¡´ì¬í•©ë‹ˆë‹¤.
2. í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  ê° ìƒíƒœì˜ ê°’ì„ ì •ì˜í•©ë‹ˆë‹¤.

   ```javascript
   const DRAFT = 0;
   const MODERATION = 1;
   const PUBLISHED = 2;

   const state = DRAFT;
   ```

3. ìœ í•œ ìƒíƒœ ê¸°ê³„ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  í–‰ë™ì„ ëª¨ì•„ ë´…ë‹ˆë‹¤.
4. ì´ì œ ìœ í•œ ìƒíƒœ ê¸°ê³„ ì—­í• ì„ í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ê° í–‰ë™ì„ êµ¬í˜„í•  ë•ŒëŠ” ì¡°ê±´ë¬¸ì„ ì¨ì„œ ìƒíƒœë³„ë¡œ ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼ í• ì§€ ê²°ì •í•©ë‹ˆë‹¤.
   ì˜ˆë¥¼ ë“¤ì–´, 'ì¶œíŒ' í–‰ë™ì€ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì„œë“œë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ```javascript
   function publish() {
     if (state === DRAFT) {
       if (currentUser.role === 'admin') {
         state = PUBLISHED;
         console.log('ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
       } else {
         state = MODERATION;
         console.log('ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  ë‹¨ê³„ë¡œ ì§„ì…í•©ë‹ˆë‹¤.');
       }
     } else if (state === MODERATION) {
       console.log('ê²€í†  ë‹¨ê³„ ì…ë‹ˆë‹¤.');
     } else if (state === PUBLISHED) {
       console.log('ì´ë¯¸ ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
     }
   }
   ```

## ğŸŒƒ ìœ í•œ ìƒíƒœ ê¸°ê³„ êµ¬í˜„í•˜ê¸°

ì•ì„œ ì‚´í´ë³¸ ë°©ë²•ì„ ë°”íƒ•ìœ¼ë¡œ ì¶œíŒ íë¦„ì˜ ìœ í•œ ìƒíƒœ ê¸°ê³„ë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```javascript
class DocumentMachine {
  static DRAFT = 0;
  static MODERATION = 1;
  static PUBLISHED = 2;

  state = DocumentMachine.DRAFT;

  publish() {
    if (this.state === DocumentMachine.DRAFT) {
      // ìƒíƒœë³€ê²½ ('ì´ˆì•ˆ' -> 'ê²€í† ', 'ì´ˆì•ˆ' -> 'ì¶œíŒ')
      if (currentUser.role === 'admin') {
        this.state = DocumentMachine.PUBLISHED;
        console.log('ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
      } else {
        this.state = DocumentMachine.MODERATION;
        console.log('ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  ë‹¨ê³„ë¡œ ì§„ì…í•©ë‹ˆë‹¤.');
      }
    } else if (this.state === DocumentMachine.MODERATION) {
      console.log('ê²€í†  ë‹¨ê³„ ì…ë‹ˆë‹¤.');
    } else if (this.state === DocumentMachine.PUBLISHED) {
      console.log('ì´ë¯¸ ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
  }

  approve() {
    if (this.state === DocumentMachine.MODERATION) {
      // ìƒíƒœë³€ê²½ ('ê²€í† ' -> 'ì¶œíŒ')
      this.state = DocumentMachine.PUBLISHED;
      console.log('ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } else if (this.state === DocumentMachine.PUBLISHED) {
      console.log('ì´ë¯¸ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } else if (this.state === DocumentMachine.DRAFT) {
      console.log('ì´ˆì•ˆ ìƒíƒœì…ë‹ˆë‹¤.');
    }
  }

  denyPublish() {
    if (this.state === DocumentMachine.MODERATION) {
      // ìƒíƒœë³€ê²½ ('ê²€í† ' -> 'ì´ˆì•ˆ')
      this.state = DocumentMachine.DRAFT;
      console.log('ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤.');
    } else if (this.state === DocumentMachine.PUBLISHED) {
      console.log('ì´ë¯¸ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } else if (this.state === DocumentMachine.DRAFT) {
      console.log('ì´ˆì•ˆ ìƒíƒœì…ë‹ˆë‹¤.');
    }
  }

  expirePublish() {
    if (this.state === DocumentMachine.PUBLISHED) {
      // ìƒíƒœë³€ê²½ ('ì¶œíŒ' -> 'ì´ˆì•ˆ')
      this.state = DocumentMachine.DRAFT;
      console.log('ì¶œíŒ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
    } else if (this.state === DocumentMachine.DRAFT) {
      console.log('ì´ˆì•ˆ ìƒíƒœì…ë‹ˆë‹¤.');
    } else if (this.state === DocumentMachine.MODERATION) {
      console.log('ê²€í†  ë‹¨ê³„ ì…ë‹ˆë‹¤.');
    }
  }
}
```

ìƒíƒœ ë³€ê²½ì„ íŠ¸ë¦¬ê±°í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë©”ì„œë“œë¡œ ë§Œë“  í›„, ìƒíƒœë³„ë¡œ ì·¨í•´ì•¼ í•  í–‰ë™ì„ í•´ë‹¹ ë©”ì„œë“œë‚´ì—ì„œ ë¶„ê¸°ì²˜ë¦¬í•˜ì—¬ êµ¬í˜„í•œê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸŒƒ ë¬¸ì œì 

ìœ„ ë°©ì‹ì€ í˜„ì¬ëŠ” ì •ìƒ ë™ì‘í•˜ì§€ë§Œ, ìƒíƒœê°€ ì¶”ê°€ë˜ê±°ë‚˜ í–‰ë™ì´ ë³€ê²½ë  ê²½ìš° ìœ ì§€ë³´ìˆ˜ì„±ì´ í¬ê²Œ ë–¨ì–´ì§‘ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ â€˜ê³µê°œ ì˜ˆì •â€™ ìƒíƒœê°€ ì¶”ê°€ë˜ë©´, ì½”ë“œì— í•´ë‹¹ ìƒíƒœë¥¼ ì¶”ê°€í•´ì•¼ í•˜ë©° ê° ë©”ì„œë“œì—ë„ ìƒˆë¡œìš´ ìƒíƒœì— ëŒ€í•œ ë¶„ê¸°ì²˜ë¦¬ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ìƒíƒœê°€ ì—¬ëŸ¬ ê°œ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ìˆ˜ì • ë²”ìœ„ëŠ” ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì»¤ì§€ê³  ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„±ë„ í•¨ê»˜ ë†’ì•„ì§‘ë‹ˆë‹¤.

## ğŸŒƒ ê°œì„ í•˜ê¸°

ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ë¦¬íŒ©í† ë§í•˜ê¸° ìœ„í•´ì„œëŠ” ë³€ê²½ì´ ë°œìƒí•˜ëŠ” ë¶€ë¶„ì„ ìº¡ìŠí™”í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš°, ìƒíƒœë³„ ë™ì‘ì´ ìì£¼ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê° ìƒíƒœë¥¼ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ê³ , ê° í´ë˜ìŠ¤ê°€ ìì‹ ì´ ìˆ˜í–‰í•´ì•¼ í•  ë™ì‘ì„ ì§ì ‘ êµ¬í˜„í•˜ë„ë¡ ë³€ê²½í•´ë³´ê² ìŠµë‹ˆë‹¤. êµ¬í˜„ ë‹¨ê³„ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

1. ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì— ì •ì˜ëœ ëª¨ë“  í–‰ë™ì— ê´€í•œ ë©”ì†Œë“œê°€ ë“¤ì–´ìˆëŠ” State ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
2. ëª¨ë“  ìƒíƒœë¥¼ ëŒ€ìƒìœ¼ë¡œ ìƒíƒœ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤. ê¸°ê³„ê°€ ì–´ë–¤ ìƒíƒœì— ìˆë‹¤ë©´, ê·¸ ìƒíƒœì— í•´ë‹¹í•˜ëŠ” ìƒíƒœ í´ë˜ìŠ¤ê°€ ëª¨ë“  ì‘ì—…ì„ ì±…ì„ì§€ê²Œ ë©ë‹ˆë‹¤.
3. ê¸°ì¡´ ì½”ë“œì— ìˆë˜ ì¡°ê±´ë¬¸ ì½”ë“œë¥¼ ìƒíƒœ í´ë˜ìŠ¤ì— ìœ„ì„í•´ì•¼ í•©ë‹ˆë‹¤.

### ğŸ† State í´ë˜ìŠ¤ êµ¬í˜„í•˜ê¸°

State í´ë˜ìŠ¤ëŠ” êµ¬í˜„ ë‹¨ê³„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ì•„ë˜ì™€ ê°™ì€ ìƒì† êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

```mermaid
classDiagram

State <|.. Draft
State <|.. Moderation
State <|.. Published

class State {
    <<interface>>
    publish()
    approve()
    denyPublish()
    expirePublish()
}

class Draft {
    publish()
    approve()
    denyPublish()
    expirePublish()
}

class Moderation {
    publish()
    approve()
    denyPublish()
    expirePublish()
}

class Published {
    publish()
    approve()
    denyPublish()
    expirePublish()
}
```

UML ë‹¤ì´ì–´ê·¸ë¨ì„ ë°”íƒ•ìœ¼ë¡œ êµ¬í˜„í•œ Draft í´ë˜ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```typescript
class Draft implements State {
  private documentMachine: DocumentMachine;

  constructor(documentMachine: DocumentMachine) {
    this.documentMachine = documentMachine;
  }

  publish() {
    if (currentUser.role === 'admin') {
      this.documentMachine.setState(documentMachine.getPublishedState());
      console.log('ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
    } else {
      this.documentMachine.setState(documentMachine.getModerationState());
      console.log('ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  ë‹¨ê³„ë¡œ ì§„ì…í•©ë‹ˆë‹¤.');
    }
  }

  approve() {
    console.log('ì´ˆì•ˆ ìƒíƒœì…ë‹ˆë‹¤.');
  }

  denyPublish() {
    console.log('ì´ˆì•ˆ ìƒíƒœì…ë‹ˆë‹¤.');
  }

  expirePublish() {
    console.log('ì´ˆì•ˆ ìƒíƒœì…ë‹ˆë‹¤.');
  }
}
```

ìœ„ í´ë˜ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ë¥¸ ìƒíƒœ í´ë˜ìŠ¤ë„ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.

<Tabs>
  <TabItem value="Moderation" label="Moderation">
```typescript
class Moderation implements State {
    private documentMachine: DocumentMachine;
    constructor(documentMachine: DocumentMachine) {
      this.documentMachine = documentMachine;
    }
    publish() {
      console.log('ê²€í†  ë‹¨ê³„ ì…ë‹ˆë‹¤.');
    }
    approve() {
      this.documentMachine.setState(documentMachine.getPublishedState());
      console.log('ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    denyPublish() {
      this.documentMachine.setState(documentMachine.getDraftState());
      console.log('ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    expirePublish() {
      this.state = DocumentMachine.DRAFT;
      console.log('ì¶œíŒ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
}
```
</TabItem>
<TabItem value="Published" label="Published">
```typescript
class Published implements State {
    private documentMachine: DocumentMachine;
    constructor(documentMachine: DocumentMachine) {
      this.documentMachine = documentMachine;
    }
    publish() {
      console.log('ì´ë¯¸ ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    approve() {
      console.log('ì´ë¯¸ ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    denyPublish() {
      console.log('ì´ë¯¸ ì¶œíŒë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    expirePublish() {
      this.documentMachine.setState(documentMachine.getDraftState());
      console.log('ì¶œíŒ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
}
```
</TabItem>
</Tabs>

êµ¬í˜„ëœ ìƒíƒœ í´ë˜ìŠ¤ì—ëŠ” ê° ìƒíƒœì— í•´ë‹¹í•˜ëŠ” ì „ì´(transition) ë¡œì§ì´ í¬í•¨ë˜ì–´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë˜í•œ ìƒíƒœ ì¸ìŠ¤í„´ìŠ¤ëŠ” ìƒì„± ì‹œ ìœ í•œ ìƒíƒœ ê¸°ê³„ ì¸ìŠ¤í„´ìŠ¤ì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì „ë‹¬ë°›ëŠ”ë°, ì´ëŠ” ë‹¤ë¥¸ ìƒíƒœë¡œ ì „í™˜í•  ë•Œ ê¸°ê³„ í´ë˜ìŠ¤ì— ì •ì˜ëœ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

### ğŸ† DocumentMachine í´ë˜ìŠ¤ êµ¬í˜„í•˜ê¸°

State í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í–ˆìœ¼ë‹ˆ, ì´ì œ DocumentMachine í´ë˜ìŠ¤ì— ì ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.

```typescript
class DocumentMachine {
  private draftState: State;
  private moderationState: State;
  private publishedState: State;

  private state: State;

  constructor() {
    this.draftState = new Draft(this);
    this.moderationState = new Moderation(this);
    this.publishedState = new Published(this);

    this.state = this.draftState;
  }

  publish() {
    this.state.publish();
  }

  approve() {
    this.state.approve();
  }

  denyPublish() {
    this.state.denyPublish();
  }

  expirePublish() {
    this.state.expirePublish();
  }

  getDraftState() {
    return this.draftState;
  }

  getModerationState() {
    return this.moderationState;
  }

  getPublishedState() {
    return this.publishedState;
  }

  setState(state: State) {
    this.state = state;
  }
}
```

ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ë©´ í•´ë‹¹ ë™ì‘ì€ í˜„ì¬ì˜ ìƒíƒœ ì¸ìŠ¤í„´ìŠ¤ì— ìœ„ì„ë˜ë„ë¡í•˜ì—¬ ê¸°ì¡´ì— ì¡´ì¬í–ˆì—ˆë˜ ì¡°ê±´ë¬¸ë“¤ì„ ëª¨ë‘ ì œê±°í–ˆìŠµë‹ˆë‹¤.

## ğŸŒƒ êµ¬ì¡°

ì•ì„œ ì‘ì„±í–ˆë˜ ì½”ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒíƒœ íŒ¨í„´ì˜ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```mermaid
classDiagram

Context o-- State
State <|.. ConcreteStateA
State <|.. ConcreteStateB
Context <-- ConcreteStateA
Context <-- ConcreteStateB

class Context {
    -state
    +Context()
    +setState(state)
    +doThis()
    +doThat()
}

class State {
    <<interface>>
    +doThis()
    +doThat()
}

class ConcreteStateA {
    -context
    +ConcreteStateA(context)
    +doThis()
    +doThat()
}

class ConcreteStateB {
    -context
    +ConcreteStateB(context)
    +doThis()
    +doThat()
}
```

### ğŸ† Context

ContextëŠ” ConcreteState ê°ì²´ ì¤‘ í•˜ë‚˜ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì €ì¥í•˜ê³  ëª¨ë“  ìƒíƒœë³„ ì‘ì—…ì„ ê·¸ê³³ì— ìœ„ì„í•©ë‹ˆë‹¤.
ContextëŠ” State ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ìƒíƒœ ê°ì²´ì™€ í†µì‹ í•˜ë©°, ìƒˆë¡œìš´ ìƒíƒœ ê°ì²´ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•œ ì„¸í„°(setState)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ† State ì¸í„°í˜ì´ìŠ¤

State ì¸í„°í˜ì´ìŠ¤ëŠ” ìƒíƒœë³„ ë©”ì„œë“œë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.

### ğŸ† ConcreteState í´ë˜ìŠ¤

ConcreteState í´ë˜ìŠ¤ëŠ” ìƒíƒœë³„ ë©”ì„œë“œë“¤ì— ëŒ€í•œ ìì²´ì ì¸ êµ¬í˜„ì„ ì œê³µí•©ë‹ˆë‹¤. ì—¬ëŸ¬ ìƒíƒœì—ì„œ ìœ ì‚¬í•œ ì½”ë“œì˜ ì¤‘ë³µì„ í”¼í•˜ê¸° ìœ„í•˜ì—¬ ê³µí†µ í–‰ë™ì„ ìº¡ìŠí™”í•˜ëŠ” ì¤‘ê°„ ì¶”ìƒ í´ë˜ìŠ¤ë“¤ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

State ê°ì²´ë“¤ì€ Context ê°ì²´ì— ëŒ€í•œ ì—­ì°¸ì¡°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ì´ ì°¸ì¡°ë¥¼ í†µí•´ StateëŠ” í•„ìš”í•œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê³  ìƒíƒœ ì „ì´ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ† ê²°ë¡ 

ì§€ê¸ˆê¹Œì§€ ë‹¤ì–‘í•œ ìƒíƒœì™€ ê·¸ ìƒíƒœë“¤ ê°„ì˜ ì „ì´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ìƒíƒœ íŒ¨í„´ì— ëŒ€í•´ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.
ë§ˆì§€ë§‰ìœ¼ë¡œ, ìƒíƒœ íŒ¨í„´ì„ ì ìš©í•˜ê¸° ì í•©í•œ ìƒí™©ì„ ì•Œì•„ë³´ë©° ê¸€ì„ ë§ˆë¬´ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

1. í˜„ì¬ ìƒíƒœì— ë”°ë¼ ë‹¤ë¥´ê²Œ í–‰ë™í•˜ëŠ” ê°ì²´ê°€ ìˆì„ ë•Œ, ìƒíƒœë“¤ì˜ ìˆ˜ê°€ ë§ì„ ë•Œ, ê·¸ë¦¬ê³  ìƒíƒœë³„ ì½”ë“œê°€ ìì£¼ ë³€ê²½ë  ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•©ë‹ˆë‹¤.
2. í´ë˜ìŠ¤ í•„ë“œì˜ í˜„ì¬ ê°’ë“¤ì— ë”°ë¼ í´ë˜ìŠ¤ê°€ í–‰ë™í•˜ëŠ” ë¡œì§ì´ ì¡°ê±´ë¬¸ë“¤ë¡œ ì˜¤ì—¼ë˜ì—ˆì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•©ë‹ˆë‹¤.
3. ìœ ì‚¬í•œ ìƒíƒœë“¤ì— ì¤‘ë³µ ì½”ë“œì™€ ì¡°ê±´ë¬¸ì´ ë§ì„ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•©ë‹ˆë‹¤.

#### ì°¸ê³  ìë£Œ

- í—¤ë“œ í¼ìŠ¤íŠ¸ ë””ìì¸ íŒ¨í„´
- [ë””ìì¸ íŒ¨í„´ë“¤](https://refactoring.guru/ko/design-patterns)
